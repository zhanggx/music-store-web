(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d2a30914"],{"01b2":function(e,t,r){var n=r("7b15");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var a=r("499e").default;a("90441782",n,!0,{})},"24ba":function(e,t,r){t=e.exports=r("2350")(!1),t.push([e.i,"",""])},"4a0c":function(e,t,r){"use strict";r.r(t);r("96cf");var n=r("3b8d"),a=(r("c5f6"),r("19b1")),i=r("feac"),l=r("8ffa"),o=r("7440"),u=(r("9490"),{data:function(){return{page:{page:1,pageSize:10,total:1},loading:!1,addMusicFlag:!1,editMusicFlag:!1,editId:Number,tableData:[],searchForm:{},allCommand:[]}},components:{addMusic:l["a"],editMusic:o["a"]},mounted:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getMusicList();case 2:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),methods:{getMusicList:function(){var e=this;return new Promise(function(t,r){var n=Object.assign({},e.page,e.searchForm);e.loading=!0,a["f"](n).then(function(r){0==r.errorCode&&(e.page.total=r.totalCount,e.tableData=r.data),t()}).finally(function(){e.loading=!1})})},pageChange:function(e){this.page.page=e,this.getMusicList()},sizeChange:function(e){this.page.pageSize=e,this.getMusicList()},changeAddMusicFlag:function(e){this.addMusicFlag=e,this.getMusicList()},changeEditMusicFlag:function(e){this.editMusicFlag=e,this.getMusicList()},toSearch:function(){this.page.page=1,this.getMusicList()},toAlbumDetail:function(e){this.$router.push({name:"albumMusicDetail",query:{id:e}})},toSingerDetail:function(e){this.$router.push({name:"singerDetail",query:{id:e}})},toEdit:function(e){this.editId=e,this.editMusicFlag=!0},toCancelRecommend:function(e){var t=this;this.$confirm("是否取消推荐该歌曲?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){i["b"]({id:e}).then(function(e){t.$message({type:"success",message:"取消推荐成功!"}),t.getMusicList()})})},toRecommend:function(e){var t=this;i["a"]({id:e}).then(function(e){t.$message({type:"success",message:"推荐成功!"}),t.getMusicList()})},toDelete:function(e){var t=this;this.$confirm("是否删除该歌曲?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a["b"]({id:e}).then(function(e){t.$message({type:"success",message:"删除成功!"}),t.getMusicList()})})}}}),s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"fillcontain"},[r("el-form",{attrs:{inline:!0,size:"small"}},[r("el-form-item",{attrs:{label:"关键字"}},[r("el-input",{attrs:{clearable:""},model:{value:e.searchForm.key,callback:function(t){e.$set(e.searchForm,"key",t)},expression:"searchForm.key"}})],1),e._v(" "),r("el-form-item",[r("el-button-group",[r("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.toSearch}},[e._v("查询")]),e._v(" "),r("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(t){e.addMusicFlag=!0}}},[e._v("添加")])],1)],1)],1),e._v(" "),r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,border:"","highlight-current-row":"","header-cell-class-name":"table-header-class"}},[r("el-table-column",{attrs:{prop:"name",label:"名称",align:"center"}}),e._v(" "),r("el-table-column",{attrs:{prop:"albumName",label:"专辑名称",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("div",{staticStyle:{color:"blue","text-decoration":"underline",cursor:"pointer"},on:{click:function(r){return e.toAlbumDetail(t.row.albumId)}}},[e._v(e._s(t.row.albumName))])]}}])}),e._v(" "),r("el-table-column",{attrs:{prop:"fileUrl",label:"歌曲文件",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("a",{staticClass:"buttonText",attrs:{href:t.row.fileUrl,target:"_blank"}},[e._v(e._s(t.row.filePath))])]}}])}),e._v(" "),r("el-table-column",{attrs:{prop:"timeLengthText",label:"歌曲时长",align:"center"}}),e._v(" "),r("el-table-column",{attrs:{prop:"fileSizeText",label:"文件大小",align:"center"}}),e._v(" "),r("el-table-column",{attrs:{prop:"singerName",label:"歌手名称",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("div",{staticStyle:{color:"blue","text-decoration":"underline",cursor:"pointer"},on:{click:function(r){return e.toSingerDetail(t.row.singerId)}}},[e._v(e._s(t.row.singerName))])]}}])}),e._v(" "),r("el-table-column",{attrs:{prop:"recommendIndex",label:"推荐",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(t.row.recommendIndex>0?"是":"否"))])]}}])}),e._v(" "),r("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button-group",[r("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(r){return e.toEdit(t.row.id)}}},[e._v("编辑")]),e._v(" "),0==t.row.recommendIndex?r("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(r){return e.toRecommend(t.row.id)}}},[e._v("推荐")]):e._e(),e._v(" "),t.row.recommendIndex>0?r("el-button",{attrs:{size:"mini",type:"warning"},on:{click:function(r){return e.toCancelRecommend(t.row.id)}}},[e._v("取消")]):e._e(),e._v(" "),r("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(r){return e.toDelete(t.row.id)}}},[e._v("删除")])],1)]}}])},[e._v("warning\n    ")])],1),e._v(" "),r("el-row",{staticClass:"pagination"},[r("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next, jumper, sizes","page-size":e.page.pageSize,"page-sizes":[2,5,10,20,50,100],total:e.page.total},on:{"current-change":e.pageChange,"size-change":e.sizeChange}})],1),e._v(" "),r("el-dialog",{attrs:{title:"添加歌曲","append-to-body":!0,visible:e.addMusicFlag,width:"600px"},on:{"update:visible":function(t){e.addMusicFlag=t}}},[r("add-music",{attrs:{addMusicFlag:e.addMusicFlag},on:{changeAddMusicFlag:e.changeAddMusicFlag}})],1),e._v(" "),r("el-dialog",{attrs:{title:"编辑歌曲","append-to-body":!0,visible:e.editMusicFlag,width:"600px"},on:{"update:visible":function(t){e.editMusicFlag=t}}},[r("edit-music",{attrs:{editMusicFlag:e.editMusicFlag,editId:e.editId},on:{changeEditMusicFlag:e.changeEditMusicFlag}})],1)],1)},c=[],m=r("2455");function d(e){r("dd2a")}var f=!1,p=d,g=null,b=null,h=Object(m["a"])(u,s,c,f,p,g,b);t["default"]=h.exports},"5dc7":function(e,t,r){"use strict";r.d(t,"e",function(){return i}),r.d(t,"a",function(){return l}),r.d(t,"c",function(){return o}),r.d(t,"d",function(){return u}),r.d(t,"b",function(){return s}),r.d(t,"f",function(){return c});var n=r("a27e"),a=r("e490");function i(e){return Object(n["a"])({url:a["a"]+"/album/search",method:"post",data:e})}function l(e){return Object(n["a"])({url:a["a"]+"/album/create",method:"post",data:e})}function o(e){return Object(n["a"])({url:a["a"]+"/album/update",method:"post",data:e})}function u(e){return Object(n["a"])({url:a["a"]+"/album/info",method:"post",data:e})}function s(e){return Object(n["a"])({url:a["a"]+"/album/delete",method:"post",data:e})}function c(e){return Object(n["a"])({url:a["a"]+"/album/list",method:"post",data:{}})}},7440:function(e,t,r){"use strict";r("96cf");var n=r("3b8d"),a=(r("c5f6"),r("5dc7")),i=r("19b1"),l={data:function(){return{ruleForm:{},rules:{name:[{required:!0,message:"请输入名称",trigger:"blur"}],albumId:[{required:!0,message:"请选择专辑",trigger:"blur"}],filePath:[{required:!0,message:"请输入文件路径",trigger:"blur"}],timeLength:[{required:!0,message:"请输入长度",trigger:"blur"}]},albumList:[]}},props:{editMusicFlag:Boolean,editId:Number},mounted:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getAlbumList();case 2:this.getMusicInfo();case 3:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),watch:{editMusicFlag:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!t){e.next=4;break}return e.next=3,this.getAlbumList();case 3:this.getMusicInfo();case 4:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},methods:{getAlbumList:function(){var e=this;a["f"]().then(function(t){0==t.errorCode&&(e.albumList=t.data)})},getMusicInfo:function(){var e=this;return new Promise(function(t,r){i["e"]({id:e.editId}).then(function(t){0==t.errorCode&&(e.ruleForm=t.data)})})},toSubmit:function(){var e=this;this.$refs.ruleForm.validate(function(t){t&&i["c"](e.ruleForm).then(function(t){0==t.errorCode&&(e.$message({showClose:!0,message:"编辑成功！",type:"success"}),e.$emit("changeEditMusicFlag",!1))})})}}},o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-form",{ref:"ruleForm",attrs:{size:"small",model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"名称",prop:"name"}},[r("el-input",{attrs:{clearable:""},model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"专辑",prop:"albumId"}},[r("el-select",{attrs:{placeholder:"请选择",clearable:""},model:{value:e.ruleForm.albumId,callback:function(t){e.$set(e.ruleForm,"albumId",t)},expression:"ruleForm.albumId"}},e._l(e.albumList,function(e,t){return r("el-option",{key:t,attrs:{value:e.id,label:e.name}})}),1)],1),e._v(" "),r("el-form-item",{attrs:{label:"长度(秒)",prop:"timeLength"}},[r("el-input",{attrs:{onkeyup:"value=value.replace(/[^\\d]/g,'')",clearable:""},model:{value:e.ruleForm.timeLength,callback:function(t){e.$set(e.ruleForm,"timeLength",t)},expression:"ruleForm.timeLength"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"文件路径",prop:"filePath"}},[r("el-input",{attrs:{clearable:""},model:{value:e.ruleForm.filePath,callback:function(t){e.$set(e.ruleForm,"filePath",t)},expression:"ruleForm.filePath"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"文件大小",prop:"fileSize"}},[r("el-input",{attrs:{onkeyup:"value=value.replace(/[^\\d]/g,'')",clearable:""},model:{value:e.ruleForm.fileSize,callback:function(t){e.$set(e.ruleForm,"fileSize",t)},expression:"ruleForm.fileSize"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"简介",prop:"description"}},[r("el-input",{attrs:{type:"textarea",clearable:""},model:{value:e.ruleForm.description,callback:function(t){e.$set(e.ruleForm,"description",t)},expression:"ruleForm.description"}})],1)],1),e._v(" "),r("div",{staticStyle:{"text-align":"center"}},[r("el-button",{on:{click:function(t){return e.$emit("changeEditMusicFlag",!1)}}},[e._v("取 消")]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:e.toSubmit}},[e._v("确 定")])],1)],1)},u=[],s=r("2455");function c(e){r("01b2")}var m=!1,d=c,f=null,p=null,g=Object(s["a"])(l,o,u,m,d,f,p);t["a"]=g.exports},"7b15":function(e,t,r){t=e.exports=r("2350")(!1),t.push([e.i,"",""])},"7de5":function(e,t,r){var n=r("24ba");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var a=r("499e").default;a("16f2b51f",n,!0,{})},"8ffa":function(e,t,r){"use strict";var n=r("5dc7"),a=r("19b1"),i={data:function(){return{ruleForm:{},rules:{name:[{required:!0,message:"请输入名称",trigger:"blur"}],albumId:[{required:!0,message:"请选择专辑",trigger:"blur"}],filePath:[{required:!0,message:"请输入文件路径",trigger:"blur"}],timeLength:[{required:!0,message:"请输入长度",trigger:"blur"}]},albumList:[]}},props:{addMusicFlag:Boolean},mounted:function(){this.getAlbumList()},watch:{addMusicFlag:function(e){e&&this.$refs.ruleForm.resetFields()}},methods:{getAlbumList:function(){var e=this;n["f"]().then(function(t){0==t.errorCode&&(e.albumList=t.data)})},toSubmit:function(){var e=this;this.$refs.ruleForm.validate(function(t){t&&a["a"](e.ruleForm).then(function(t){0==t.errorCode&&(e.$message({showClose:!0,message:"添加成功！",type:"success"}),e.$emit("changeAddMusicFlag",!1))})})}}},l=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-form",{ref:"ruleForm",attrs:{size:"small",model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"名称",prop:"name"}},[r("el-input",{attrs:{clearable:""},model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"专辑",prop:"albumId"}},[r("el-select",{attrs:{placeholder:"请选择",clearable:""},model:{value:e.ruleForm.albumId,callback:function(t){e.$set(e.ruleForm,"albumId",t)},expression:"ruleForm.albumId"}},e._l(e.albumList,function(e,t){return r("el-option",{key:t,attrs:{value:e.id,label:e.name}})}),1)],1),e._v(" "),r("el-form-item",{attrs:{label:"长度(秒)",prop:"timeLength"}},[r("el-input",{attrs:{onkeyup:"value=value.replace(/[^\\d]/g,'')",clearable:""},model:{value:e.ruleForm.timeLength,callback:function(t){e.$set(e.ruleForm,"timeLength",t)},expression:"ruleForm.timeLength"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"文件路径",prop:"filePath"}},[r("el-input",{attrs:{clearable:""},model:{value:e.ruleForm.filePath,callback:function(t){e.$set(e.ruleForm,"filePath",t)},expression:"ruleForm.filePath"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"文件大小",prop:"fileSize"}},[r("el-input",{attrs:{onkeyup:"value=value.replace(/[^\\d]/g,'')",clearable:""},model:{value:e.ruleForm.fileSize,callback:function(t){e.$set(e.ruleForm,"fileSize",t)},expression:"ruleForm.fileSize"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"简介",prop:"description"}},[r("el-input",{attrs:{type:"textarea",clearable:""},model:{value:e.ruleForm.description,callback:function(t){e.$set(e.ruleForm,"description",t)},expression:"ruleForm.description"}})],1)],1),e._v(" "),r("div",{staticStyle:{"text-align":"center"}},[r("el-button",{on:{click:function(t){return e.$emit("changeAddMusicFlag",!1)}}},[e._v("取 消")]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:e.toSubmit}},[e._v("确 定")])],1)],1)},o=[],u=r("2455");function s(e){r("7de5")}var c=!1,m=s,d=null,f=null,p=Object(u["a"])(i,l,o,c,m,d,f);t["a"]=p.exports},"9cf3":function(e,t,r){t=e.exports=r("2350")(!1),t.push([e.i,"\n.fillcontain {\n  height: calc(100vh - 180px);\n  padding: 30px;\n  overflow: auto;\n}\n.fillcontain .pagination {\n  margin-top: 10px;\n  text-align: right;\n}\n",""])},dd2a:function(e,t,r){var n=r("9cf3");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var a=r("499e").default;a("6311ffc6",n,!0,{})},feac:function(e,t,r){"use strict";r.d(t,"c",function(){return i}),r.d(t,"d",function(){return l}),r.d(t,"b",function(){return o}),r.d(t,"a",function(){return u});var n=r("a27e"),a=r("e490");function i(e){return Object(n["a"])({url:a["a"]+"/recommend/list",method:"post",data:e})}function l(e){return Object(n["a"])({url:a["a"]+"/recommend/move",method:"post",data:e})}function o(e){return Object(n["a"])({url:a["a"]+"/recommend/cancel",method:"post",data:e})}function u(e){return Object(n["a"])({url:a["a"]+"/recommend/add",method:"post",data:e})}}}]);