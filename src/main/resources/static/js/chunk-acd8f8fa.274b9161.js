(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-acd8f8fa"],{"01b2":function(e,t,r){var n=r("7b15");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var a=r("499e").default;a("90441782",n,!0,{})},"24ba":function(e,t,r){t=e.exports=r("2350")(!1),t.push([e.i,"",""])},"3f33":function(e,t,r){var n=r("e345");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var a=r("499e").default;a("b01b236a",n,!0,{})},"5dc7":function(e,t,r){"use strict";r.d(t,"e",function(){return l}),r.d(t,"a",function(){return i}),r.d(t,"c",function(){return o}),r.d(t,"d",function(){return u}),r.d(t,"b",function(){return s}),r.d(t,"f",function(){return c});var n=r("a27e"),a=r("e490");function l(e){return Object(n["a"])({url:a["a"]+"/album/search",method:"post",data:e})}function i(e){return Object(n["a"])({url:a["a"]+"/album/create",method:"post",data:e})}function o(e){return Object(n["a"])({url:a["a"]+"/album/update",method:"post",data:e})}function u(e){return Object(n["a"])({url:a["a"]+"/album/info",method:"post",data:e})}function s(e){return Object(n["a"])({url:a["a"]+"/album/delete",method:"post",data:e})}function c(e){return Object(n["a"])({url:a["a"]+"/album/list",method:"post",data:{}})}},7440:function(e,t,r){"use strict";r("96cf");var n=r("3b8d"),a=(r("c5f6"),r("5dc7")),l=r("19b1"),i={data:function(){return{ruleForm:{},rules:{name:[{required:!0,message:"请输入名称",trigger:"blur"}],albumId:[{required:!0,message:"请选择专辑",trigger:"blur"}],filePath:[{required:!0,message:"请输入文件路径",trigger:"blur"}],timeLength:[{required:!0,message:"请输入长度",trigger:"blur"}]},albumList:[]}},props:{editMusicFlag:Boolean,editId:Number},mounted:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getAlbumList();case 2:this.getMusicInfo();case 3:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),watch:{editMusicFlag:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!t){e.next=4;break}return e.next=3,this.getAlbumList();case 3:this.getMusicInfo();case 4:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},methods:{getAlbumList:function(){var e=this;a["f"]().then(function(t){0==t.errorCode&&(e.albumList=t.data)})},getMusicInfo:function(){var e=this;return new Promise(function(t,r){l["e"]({id:e.editId}).then(function(t){0==t.errorCode&&(e.ruleForm=t.data)})})},toSubmit:function(){var e=this;this.$refs.ruleForm.validate(function(t){t&&l["c"](e.ruleForm).then(function(t){0==t.errorCode&&(e.$message({showClose:!0,message:"编辑成功！",type:"success"}),e.$emit("changeEditMusicFlag",!1))})})}}},o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-form",{ref:"ruleForm",attrs:{size:"small",model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"名称",prop:"name"}},[r("el-input",{attrs:{clearable:""},model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"专辑",prop:"albumId"}},[r("el-select",{attrs:{placeholder:"请选择",clearable:""},model:{value:e.ruleForm.albumId,callback:function(t){e.$set(e.ruleForm,"albumId",t)},expression:"ruleForm.albumId"}},e._l(e.albumList,function(e,t){return r("el-option",{key:t,attrs:{value:e.id,label:e.name}})}),1)],1),e._v(" "),r("el-form-item",{attrs:{label:"长度(秒)",prop:"timeLength"}},[r("el-input",{attrs:{onkeyup:"value=value.replace(/[^\\d]/g,'')",clearable:""},model:{value:e.ruleForm.timeLength,callback:function(t){e.$set(e.ruleForm,"timeLength",t)},expression:"ruleForm.timeLength"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"文件路径",prop:"filePath"}},[r("el-input",{attrs:{clearable:""},model:{value:e.ruleForm.filePath,callback:function(t){e.$set(e.ruleForm,"filePath",t)},expression:"ruleForm.filePath"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"文件大小",prop:"fileSize"}},[r("el-input",{attrs:{onkeyup:"value=value.replace(/[^\\d]/g,'')",clearable:""},model:{value:e.ruleForm.fileSize,callback:function(t){e.$set(e.ruleForm,"fileSize",t)},expression:"ruleForm.fileSize"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"简介",prop:"description"}},[r("el-input",{attrs:{type:"textarea",clearable:""},model:{value:e.ruleForm.description,callback:function(t){e.$set(e.ruleForm,"description",t)},expression:"ruleForm.description"}})],1)],1),e._v(" "),r("div",{staticStyle:{"text-align":"center"}},[r("el-button",{on:{click:function(t){return e.$emit("changeEditMusicFlag",!1)}}},[e._v("取 消")]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:e.toSubmit}},[e._v("确 定")])],1)],1)},u=[],s=r("2455");function c(e){r("01b2")}var m=!1,d=c,f=null,b=null,p=Object(s["a"])(i,o,u,m,d,f,b);t["a"]=p.exports},"7b15":function(e,t,r){t=e.exports=r("2350")(!1),t.push([e.i,"",""])},"7de5":function(e,t,r){var n=r("24ba");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var a=r("499e").default;a("16f2b51f",n,!0,{})},"8ffa":function(e,t,r){"use strict";var n=r("5dc7"),a=r("19b1"),l={data:function(){return{ruleForm:{},rules:{name:[{required:!0,message:"请输入名称",trigger:"blur"}],albumId:[{required:!0,message:"请选择专辑",trigger:"blur"}],filePath:[{required:!0,message:"请输入文件路径",trigger:"blur"}],timeLength:[{required:!0,message:"请输入长度",trigger:"blur"}]},albumList:[]}},props:{addMusicFlag:Boolean},mounted:function(){this.getAlbumList()},watch:{addMusicFlag:function(e){e&&this.$refs.ruleForm.resetFields()}},methods:{getAlbumList:function(){var e=this;n["f"]().then(function(t){0==t.errorCode&&(e.albumList=t.data)})},toSubmit:function(){var e=this;this.$refs.ruleForm.validate(function(t){t&&a["a"](e.ruleForm).then(function(t){0==t.errorCode&&(e.$message({showClose:!0,message:"添加成功！",type:"success"}),e.$emit("changeAddMusicFlag",!1))})})}}},i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-form",{ref:"ruleForm",attrs:{size:"small",model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"名称",prop:"name"}},[r("el-input",{attrs:{clearable:""},model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"专辑",prop:"albumId"}},[r("el-select",{attrs:{placeholder:"请选择",clearable:""},model:{value:e.ruleForm.albumId,callback:function(t){e.$set(e.ruleForm,"albumId",t)},expression:"ruleForm.albumId"}},e._l(e.albumList,function(e,t){return r("el-option",{key:t,attrs:{value:e.id,label:e.name}})}),1)],1),e._v(" "),r("el-form-item",{attrs:{label:"长度(秒)",prop:"timeLength"}},[r("el-input",{attrs:{onkeyup:"value=value.replace(/[^\\d]/g,'')",clearable:""},model:{value:e.ruleForm.timeLength,callback:function(t){e.$set(e.ruleForm,"timeLength",t)},expression:"ruleForm.timeLength"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"文件路径",prop:"filePath"}},[r("el-input",{attrs:{clearable:""},model:{value:e.ruleForm.filePath,callback:function(t){e.$set(e.ruleForm,"filePath",t)},expression:"ruleForm.filePath"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"文件大小",prop:"fileSize"}},[r("el-input",{attrs:{onkeyup:"value=value.replace(/[^\\d]/g,'')",clearable:""},model:{value:e.ruleForm.fileSize,callback:function(t){e.$set(e.ruleForm,"fileSize",t)},expression:"ruleForm.fileSize"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"简介",prop:"description"}},[r("el-input",{attrs:{type:"textarea",clearable:""},model:{value:e.ruleForm.description,callback:function(t){e.$set(e.ruleForm,"description",t)},expression:"ruleForm.description"}})],1)],1),e._v(" "),r("div",{staticStyle:{"text-align":"center"}},[r("el-button",{on:{click:function(t){return e.$emit("changeAddMusicFlag",!1)}}},[e._v("取 消")]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:e.toSubmit}},[e._v("确 定")])],1)],1)},o=[],u=r("2455");function s(e){r("7de5")}var c=!1,m=s,d=null,f=null,b=Object(u["a"])(l,i,o,c,m,d,f);t["a"]=b.exports},c43c:function(e,t,r){"use strict";r.r(t);r("96cf");var n=r("3b8d"),a=r("feac"),l=r("8ffa"),i=r("7440"),o=(r("9490"),{data:function(){return{loading:!1,tableData:[]}},components:{addMusic:l["a"],editMusic:i["a"]},mounted:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getRecommendList();case 2:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),methods:{getRecommendList:function(){var e=this;return new Promise(function(t,r){var n=Object.assign({});e.loading=!0,a["c"](n).then(function(r){0==r.errorCode&&(e.tableData=r.data),t()}).finally(function(){e.loading=!1})})},toAlbumDetail:function(e){this.$router.push({name:"albumMusicDetail",query:{id:e}})},toSingerDetail:function(e){this.$router.push({name:"singerDetail",query:{id:e}})},toMoveUp:function(e){var t=this;if(!(e<=0||0==this.tableData.length)){var r=this.tableData[e].id,n=this.tableData[e-1].id;a["d"]({sourceId:r,destId:n}).then(function(e){t.getRecommendList()})}},toMoveDown:function(e){var t=this;if(!(e<0||0==this.tableData.length||e>=this.tableData.length-1)){var r=this.tableData[e].id,n=this.tableData[e+1].id;a["d"]({sourceId:r,destId:n}).then(function(e){t.getRecommendList()})}},toCancel:function(e){var t=this;this.$confirm("是否取消推荐该歌曲?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a["b"]({id:e}).then(function(e){t.$message({type:"success",message:"取消推荐成功!"}),t.getRecommendList()})})}}}),u=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"fillcontain"},[r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,border:"","highlight-current-row":"","header-cell-class-name":"table-header-class"}},[r("el-table-column",{attrs:{prop:"name",label:"名称",align:"center"}}),e._v(" "),r("el-table-column",{attrs:{prop:"albumName",label:"专辑名称",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("div",{staticStyle:{color:"blue","text-decoration":"underline",cursor:"pointer"},on:{click:function(r){return e.toAlbumDetail(t.row.albumId)}}},[e._v(e._s(t.row.albumName))])]}}])}),e._v(" "),r("el-table-column",{attrs:{prop:"fileUrl",label:"歌曲文件",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("a",{staticClass:"buttonText",attrs:{href:t.row.fileUrl,target:"_blank"}},[e._v(e._s(t.row.filePath))])]}}])}),e._v(" "),r("el-table-column",{attrs:{prop:"timeLengthText",label:"歌曲时长",align:"center"}}),e._v(" "),r("el-table-column",{attrs:{prop:"fileSizeText",label:"文件大小",align:"center"}}),e._v(" "),r("el-table-column",{attrs:{prop:"singerName",label:"歌手名称",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("div",{staticStyle:{color:"blue","text-decoration":"underline",cursor:"pointer"},on:{click:function(r){return e.toSingerDetail(t.row.singerId)}}},[e._v(e._s(t.row.singerName))])]}}])}),e._v(" "),r("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button-group",[r("el-button",{attrs:{size:"mini",type:"primary",disabled:0==t.$index},on:{click:function(r){return e.toMoveUp(t.$index)}}},[e._v("上移")]),e._v(" "),r("el-button",{attrs:{size:"mini",type:"success",disabled:t.$index>=e.tableData.length-1},on:{click:function(r){return e.toMoveDown(t.$index)}}},[e._v("下移")]),e._v(" "),r("el-button",{attrs:{size:"mini",type:"warning"},on:{click:function(r){return e.toCancel(t.row.id)}}},[e._v("取消")])],1)]}}])})],1)],1)},s=[],c=r("2455");function m(e){r("3f33")}var d=!1,f=m,b=null,p=null,h=Object(c["a"])(o,u,s,d,f,b,p);t["default"]=h.exports},e345:function(e,t,r){t=e.exports=r("2350")(!1),t.push([e.i,"\n.fillcontain {\n  height: calc(100vh - 180px);\n  padding: 30px;\n  overflow: auto;\n}\n.fillcontain .pagination {\n  margin-top: 10px;\n  text-align: right;\n}\n",""])},feac:function(e,t,r){"use strict";r.d(t,"c",function(){return l}),r.d(t,"d",function(){return i}),r.d(t,"b",function(){return o}),r.d(t,"a",function(){return u});var n=r("a27e"),a=r("e490");function l(e){return Object(n["a"])({url:a["a"]+"/recommend/list",method:"post",data:e})}function i(e){return Object(n["a"])({url:a["a"]+"/recommend/move",method:"post",data:e})}function o(e){return Object(n["a"])({url:a["a"]+"/recommend/cancel",method:"post",data:e})}function u(e){return Object(n["a"])({url:a["a"]+"/recommend/add",method:"post",data:e})}}}]);