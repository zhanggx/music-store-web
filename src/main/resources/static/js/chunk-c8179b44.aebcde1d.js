(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c8179b44"],{"12eb":function(e,t,r){t=e.exports=r("2350")(!1),t.push([e.i,"",""])},"26dc":function(e,t,r){"use strict";r.d(t,"f",function(){return l}),r.d(t,"a",function(){return i}),r.d(t,"c",function(){return o}),r.d(t,"e",function(){return u}),r.d(t,"b",function(){return s}),r.d(t,"d",function(){return c});var a=r("a27e"),n=r("e490");function l(e){return Object(a["a"])({url:n["a"]+"/singer/search",method:"post",data:e})}function i(e){return Object(a["a"])({url:n["a"]+"/singer/create",method:"post",data:e})}function o(e){return Object(a["a"])({url:n["a"]+"/singer/update",method:"post",data:e})}function u(e){return Object(a["a"])({url:n["a"]+"/singer/info",method:"post",data:e})}function s(e){return Object(a["a"])({url:n["a"]+"/singer/delete",method:"post",data:e})}function c(e){return Object(a["a"])({url:n["a"]+"/singer/list",method:"post",data:{}})}},"3f7f":function(e,t,r){"use strict";r.r(t);r("c5f6");var a=r("5dc7"),n=r("41ed"),l=r("26dc"),i={data:function(){return{ruleForm:{},rules:{name:[{required:!0,message:"请输入名称",trigger:"blur"}],musicCount:[{required:!0,message:"请输入歌曲数量",trigger:"blur"}],themeId:[{required:!0,message:"请选择类型",trigger:"blur"}],singerId:[{required:!0,message:"请选择歌手",trigger:"blur"}],publishTime:[{required:!0,message:"请输入发行日期",trigger:"blur"}]},themeList:[],singerList:[]}},props:{addAlbumFlag:Boolean},mounted:function(){this.getThemeList(),this.getSingerList()},watch:{addAlbumFlag:function(e){e&&this.$refs.ruleForm.resetFields()}},methods:{getThemeList:function(){var e=this;n["d"]().then(function(t){0==t.errorCode&&(e.themeList=t.data)})},getSingerList:function(){var e=this;l["d"]().then(function(t){0==t.errorCode&&(e.singerList=t.data)})},toSubmit:function(){var e=this;this.$refs.ruleForm.validate(function(t){t&&a["a"](e.ruleForm).then(function(t){0==t.errorCode&&(e.$message({showClose:!0,message:"添加成功！",type:"success"}),e.$emit("changeAddAlbumFlag",!1))})})}}},o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-form",{ref:"ruleForm",attrs:{size:"small",model:e.ruleForm,rules:e.rules,"label-width":"120px"}},[r("el-form-item",{attrs:{label:"专辑名称",prop:"name"}},[r("el-input",{attrs:{clearable:""},model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"封面图片路径",prop:"picturePath"}},[r("el-input",{attrs:{clearable:""},model:{value:e.ruleForm.picturePath,callback:function(t){e.$set(e.ruleForm,"picturePath",t)},expression:"ruleForm.picturePath"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"歌曲数量",prop:"musicCount"}},[r("el-input",{attrs:{onkeyup:"value=value.replace(/[^\\d]/g,'')",clearable:""},model:{value:e.ruleForm.musicCount,callback:function(t){e.$set(e.ruleForm,"musicCount",t)},expression:"ruleForm.musicCount"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"类型",prop:"themeId"}},[r("el-select",{attrs:{placeholder:"请选择",clearable:""},model:{value:e.ruleForm.themeId,callback:function(t){e.$set(e.ruleForm,"themeId",t)},expression:"ruleForm.themeId"}},e._l(e.themeList,function(e,t){return r("el-option",{key:t,attrs:{value:e.id,label:e.name}})}),1)],1),e._v(" "),r("el-form-item",{attrs:{label:"歌手",prop:"singerId"}},[r("el-select",{attrs:{placeholder:"请选择",clearable:""},model:{value:e.ruleForm.singerId,callback:function(t){e.$set(e.ruleForm,"singerId",t)},expression:"ruleForm.singerId"}},e._l(e.singerList,function(e,t){return r("el-option",{key:t,attrs:{value:e.id,label:e.name}})}),1)],1),e._v(" "),r("el-form-item",{attrs:{label:"发行日期",prop:"publishTime"}},[r("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:e.ruleForm.publishTime,callback:function(t){e.$set(e.ruleForm,"publishTime",t)},expression:"ruleForm.publishTime"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"简介",prop:"description"}},[r("el-input",{attrs:{type:"textarea",clearable:""},model:{value:e.ruleForm.description,callback:function(t){e.$set(e.ruleForm,"description",t)},expression:"ruleForm.description"}})],1)],1),e._v(" "),r("div",{staticStyle:{"text-align":"center"}},[r("el-button",{on:{click:function(t){return e.$emit("changeAddAlbumFlag",!1)}}},[e._v("取 消")]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:e.toSubmit}},[e._v("确 定")])],1)],1)},u=[],s=r("2455");function c(e){r("4a37")}var m=!1,d=c,p=null,b=null,g=Object(s["a"])(i,o,u,m,d,p,b),f=g.exports,h={data:function(){return{ruleForm:{},rules:{name:[{required:!0,message:"请输入名称",trigger:"blur"}],musicCount:[{required:!0,message:"请输入歌曲数量",trigger:"blur"}],themeId:[{required:!0,message:"请选择类型",trigger:"blur"}],singerId:[{required:!0,message:"请选择歌手",trigger:"blur"}],publishTime:[{required:!0,message:"请输入发行日期",trigger:"blur"}]},themeList:[],singerList:[]}},props:{editAlbumFlag:Boolean,editId:Number},mounted:function(){this.getThemeList(),this.getSingerList(),this.getAlbumInfo()},watch:{editAlbumFlag:function(e){e&&this.getAlbumInfo()}},methods:{getThemeList:function(){var e=this;n["d"]().then(function(t){0==t.errorCode&&(e.themeList=t.data)})},getSingerList:function(){var e=this;l["d"]().then(function(t){0==t.errorCode&&(e.singerList=t.data)})},getAlbumInfo:function(){var e=this;return new Promise(function(t,r){a["d"]({id:e.editId}).then(function(t){0==t.errorCode&&(e.ruleForm=t.data)})})},toSubmit:function(){var e=this;this.$refs.ruleForm.validate(function(t){t&&a["c"](e.ruleForm).then(function(t){0==t.errorCode&&(e.$message({showClose:!0,message:"编辑成功！",type:"success"}),e.$emit("changeEditAlbumFlag",!1))})})}}},v=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-form",{ref:"ruleForm",attrs:{size:"small",model:e.ruleForm,rules:e.rules,"label-width":"120px"}},[r("el-form-item",{attrs:{label:"专辑名称",prop:"name"}},[r("el-input",{attrs:{clearable:""},model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"封面图片路径",prop:"picturePath"}},[r("el-input",{attrs:{clearable:""},model:{value:e.ruleForm.picturePath,callback:function(t){e.$set(e.ruleForm,"picturePath",t)},expression:"ruleForm.picturePath"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"歌曲数量",prop:"musicCount"}},[r("el-input",{attrs:{onkeyup:"value=value.replace(/[^\\d]/g,'')",clearable:""},model:{value:e.ruleForm.musicCount,callback:function(t){e.$set(e.ruleForm,"musicCount",t)},expression:"ruleForm.musicCount"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"类型",prop:"themeId"}},[r("el-select",{attrs:{placeholder:"请选择",clearable:""},model:{value:e.ruleForm.themeId,callback:function(t){e.$set(e.ruleForm,"themeId",t)},expression:"ruleForm.themeId"}},e._l(e.themeList,function(e,t){return r("el-option",{key:t,attrs:{value:e.id,label:e.name}})}),1)],1),e._v(" "),r("el-form-item",{attrs:{label:"歌手",prop:"singerId"}},[r("el-select",{attrs:{placeholder:"请选择",clearable:""},model:{value:e.ruleForm.singerId,callback:function(t){e.$set(e.ruleForm,"singerId",t)},expression:"ruleForm.singerId"}},e._l(e.singerList,function(e,t){return r("el-option",{key:t,attrs:{value:e.id,label:e.name}})}),1)],1),e._v(" "),r("el-form-item",{attrs:{label:"发行日期",prop:"publishTime"}},[r("el-date-picker",{attrs:{type:"date",placeholder:"选择日期时间"},model:{value:e.ruleForm.publishTime,callback:function(t){e.$set(e.ruleForm,"publishTime",t)},expression:"ruleForm.publishTime"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"简介",prop:"description"}},[r("el-input",{attrs:{type:"textarea",clearable:""},model:{value:e.ruleForm.description,callback:function(t){e.$set(e.ruleForm,"description",t)},expression:"ruleForm.description"}})],1)],1),e._v(" "),r("div",{staticStyle:{"text-align":"center"}},[r("el-button",{on:{click:function(t){return e.$emit("changeEditAlbumFlag",!1)}}},[e._v("取 消")]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:e.toSubmit}},[e._v("确 定")])],1)],1)},F=[];function _(e){r("7385")}var A=!1,k=_,x=null,y=null,$=Object(s["a"])(h,v,F,A,k,x,y),I=$.exports,w={data:function(){return{page:{page:1,pageSize:10,total:1},loading:!1,addAlbumFlag:!1,editAlbumFlag:!1,editId:Number,tableData:[],searchForm:{}}},components:{addAlbum:f,editAlbum:I},mounted:function(){this.getAlbumList()},methods:{getAlbumList:function(){var e=this;return new Promise(function(t,r){var n=Object.assign({},e.page,e.searchForm);e.loading=!0,a["e"](n).then(function(r){0==r.errorCode&&(e.page.total=r.totalCount,e.tableData=r.data,e.loading=!1),t()})})},pageChange:function(e){this.page.page=e,this.getAlbumList()},sizeChange:function(e){this.page.pageSize=e,this.getAlbumList()},changeAddAlbumFlag:function(e){this.addAlbumFlag=e,this.getAlbumList()},changeEditAlbumFlag:function(e){this.editAlbumFlag=e,this.getAlbumList()},toSearch:function(){this.page.page=1,this.getAlbumList()},toEdit:function(e){this.editId=e,this.editAlbumFlag=!0},toDetail:function(e){this.$router.push({name:"albumMusicDetail",query:{id:e}})},toSingerDetail:function(e){this.$router.push({name:"singerDetail",query:{id:e}})},toDelete:function(e){var t=this;this.$confirm("是否删除该专辑?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a["b"]({id:e}).then(function(e){t.$message({type:"success",message:"删除成功!"}),t.getAlbumList()})})}}},C=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"fillcontain"},[r("el-form",{attrs:{inline:!0,size:"small"}},[r("el-form-item",{attrs:{label:"专辑名称"}},[r("el-input",{attrs:{clearable:""},model:{value:e.searchForm.name,callback:function(t){e.$set(e.searchForm,"name",t)},expression:"searchForm.name"}})],1),e._v(" "),r("el-form-item",[r("el-button-group",[r("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.toSearch}},[e._v("查询")]),e._v(" "),r("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(t){e.addAlbumFlag=!0}}},[e._v("添加")])],1)],1)],1),e._v(" "),r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,border:"","highlight-current-row":"","header-cell-class-name":"table-header-class"}},[r("el-table-column",{attrs:{prop:"pictureUrl",label:"封面",align:"center"},scopedSlots:e._u([{key:"default",fn:function(e){return[r("img",{staticClass:"head_pic",attrs:{src:e.row.pictureUrl,width:"48",height:"32"}})]}}])}),e._v(" "),r("el-table-column",{attrs:{prop:"name",label:"名称",align:"center"}}),e._v(" "),r("el-table-column",{attrs:{prop:"themeName",label:"类型",align:"center"}}),e._v(" "),r("el-table-column",{attrs:{prop:"musicCount",label:"歌曲数量",align:"center"}}),e._v(" "),r("el-table-column",{attrs:{prop:"singerName",label:"歌手",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("div",{staticStyle:{color:"blue","text-decoration":"underline",cursor:"pointer"},on:{click:function(r){return e.toSingerDetail(t.row.singerId)}}},[e._v(e._s(t.row.singerName))])]}}])}),e._v(" "),r("el-table-column",{attrs:{prop:"publishTime",label:"发行日期",align:"center"}}),e._v(" "),r("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button-group",[r("el-button",{attrs:{size:"mini",type:"info"},on:{click:function(r){return e.toDetail(t.row.id)}}},[e._v("详情")]),e._v(" "),r("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(r){return e.toEdit(t.row.id)}}},[e._v("编辑")]),e._v(" "),r("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(r){return e.toDelete(t.row.id)}}},[e._v("删除")])],1)]}}])})],1),e._v(" "),r("el-row",{staticClass:"pagination"},[r("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next, jumper, sizes","page-size":e.page.pageSize,"page-sizes":[2,5,10,20,50,100],total:e.page.total},on:{"current-change":e.pageChange,"size-change":e.sizeChange}})],1),e._v(" "),r("el-dialog",{attrs:{title:"添加专辑","append-to-body":!0,visible:e.addAlbumFlag,width:"500px","close-on-click-modal":!1},on:{"update:visible":function(t){e.addAlbumFlag=t}}},[r("add-album",{attrs:{addAlbumFlag:e.addAlbumFlag},on:{changeAddAlbumFlag:e.changeAddAlbumFlag}})],1),e._v(" "),r("el-dialog",{attrs:{title:"编辑专辑","append-to-body":!0,visible:e.editAlbumFlag,width:"500px","close-on-click-modal":!1},on:{"update:visible":function(t){e.editAlbumFlag=t}}},[r("edit-album",{attrs:{editAlbumFlag:e.editAlbumFlag,editId:e.editId},on:{changeEditAlbumFlag:e.changeEditAlbumFlag}})],1)],1)},L=[];function j(e){r("c3f4")}var O=!1,S=j,z=null,T=null,q=Object(s["a"])(w,C,L,O,S,z,T);t["default"]=q.exports},"41ed":function(e,t,r){"use strict";r.d(t,"f",function(){return l}),r.d(t,"a",function(){return i}),r.d(t,"c",function(){return o}),r.d(t,"e",function(){return u}),r.d(t,"b",function(){return s}),r.d(t,"d",function(){return c});var a=r("a27e"),n=r("e490");function l(e){return Object(a["a"])({url:n["a"]+"/theme/search",method:"post",data:e})}function i(e){return Object(a["a"])({url:n["a"]+"/theme/create",method:"post",data:e})}function o(e){return Object(a["a"])({url:n["a"]+"/theme/update",method:"post",data:e})}function u(e){return Object(a["a"])({url:n["a"]+"/theme/info",method:"post",data:e})}function s(e){return Object(a["a"])({url:n["a"]+"/theme/delete",method:"post",data:e})}function c(e){return Object(a["a"])({url:n["a"]+"/theme/list",method:"post",data:{}})}},"4a37":function(e,t,r){var a=r("dd7f");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var n=r("499e").default;n("1cfc5056",a,!0,{})},"5dc7":function(e,t,r){"use strict";r.d(t,"e",function(){return l}),r.d(t,"a",function(){return i}),r.d(t,"c",function(){return o}),r.d(t,"d",function(){return u}),r.d(t,"b",function(){return s}),r.d(t,"f",function(){return c});var a=r("a27e"),n=r("e490");function l(e){return Object(a["a"])({url:n["a"]+"/album/search",method:"post",data:e})}function i(e){return Object(a["a"])({url:n["a"]+"/album/create",method:"post",data:e})}function o(e){return Object(a["a"])({url:n["a"]+"/album/update",method:"post",data:e})}function u(e){return Object(a["a"])({url:n["a"]+"/album/info",method:"post",data:e})}function s(e){return Object(a["a"])({url:n["a"]+"/album/delete",method:"post",data:e})}function c(e){return Object(a["a"])({url:n["a"]+"/album/list",method:"post",data:{}})}},7385:function(e,t,r){var a=r("12eb");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var n=r("499e").default;n("2ac2759d",a,!0,{})},c3f4:function(e,t,r){var a=r("fb3e");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var n=r("499e").default;n("c715650a",a,!0,{})},dd7f:function(e,t,r){t=e.exports=r("2350")(!1),t.push([e.i,"",""])},fb3e:function(e,t,r){t=e.exports=r("2350")(!1),t.push([e.i,"\n.fillcontain {\n  height: calc(100vh - 180px);\n  padding: 30px;\n  overflow: auto;\n}\n.fillcontain .pagination {\n  margin-top: 10px;\n  text-align: right;\n}\n",""])}}]);